<!DOCTYPE html>
<html lang="en">
<head>
    
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <meta name="generator" content="mkdocs-1.6.1, mkdocs-terminal-4.7.0">
    
    <meta name="description" content="My second brain, a collection of notes, thoughts, and ideas."> 
    
    <meta name="author" content="Alex Kraker"> 
    
    <link rel="canonical" href="https://kraker.github.io/notes/20210811101908-introduction-to-vi/"><link rel="icon" type="image/png" sizes="192x192" href="../img/android-chrome-192x192.png" />
<link rel="icon" type="image/png" sizes="512x512" href="../img/android-chrome-512x512.png" />
<link rel="apple-touch-icon" sizes="180x180" href="../img/apple-touch-icon.png" />
<link rel="shortcut icon" type="image/png" sizes="48x48" href="../img/favicon.ico" />
<link rel="icon" type="image/png" sizes="16x16" href="../img/favicon-16x16.png" />
<link rel="icon" type="image/png" sizes="32x32" href="../img/favicon-32x32.png" />


    
 
<title>Introduction to Vi - notes</title>


<link href="../css/fontawesome/css/fontawesome.min.css" rel="stylesheet">
<link href="../css/fontawesome/css/solid.min.css" rel="stylesheet">
<link href="../css/normalize.css" rel="stylesheet">
<link href="../css/terminal.css" rel="stylesheet">
<link href="../css/theme.css" rel="stylesheet">
<link href="../css/theme.tile_grid.css" rel="stylesheet">
<link href="../css/theme.footer.css" rel="stylesheet">
<!-- dark color palette -->
<link href="../css/palettes/dark.css" rel="stylesheet">

<!-- page layout -->
<style>
/* initially set page layout to a one column grid */
.terminal-mkdocs-main-grid {
    display: grid;
    grid-column-gap: 1.4em;
    grid-template-columns: auto;
    grid-template-rows: auto;
}

/*  
*   when side navigation is not hidden, use a two column grid.  
*   if the screen is too narrow, fall back to the initial one column grid layout.
*   in this case the main content will be placed under the navigation panel. 
*/
@media only screen and (min-width: 70em) {
    .terminal-mkdocs-main-grid {
        grid-template-columns: 4fr 9fr;
    }
}</style>



     
    
    

    
    <!-- search css support -->
<link href="../css/search/bootstrap-modal.css" rel="stylesheet">
<!-- search scripts -->
<script>
    var base_url = "..",
    shortcuts = "{}";
</script>
<script src="../js/jquery/jquery-1.10.1.min.js" defer></script>
<script src="../js/bootstrap/bootstrap.min.js" defer></script>
<script src="../js/mkdocs/base.js" defer></script>
    
    
    
    
    <script src="../search/main.js"></script>
    

    
</head>

<body class="terminal"><div class="container">
    <div class="terminal-nav">
        <header class="terminal-logo">
            <div id="mkdocs-terminal-site-name" class="logo terminal-prompt"><a href="https://kraker.github.io/notes/" class="no-style">notes</a></div>
        </header>
        
        <nav class="terminal-menu">
            
            <ul vocab="https://schema.org/" typeof="BreadcrumbList">
                
                
                <li property="itemListElement" typeof="ListItem">
                    <a href=".." class="menu-item " property="item" typeof="WebPage">
                        <span property="name">home</span>
                    </a>
                    <meta property="position" content="0">
                </li>
                
                
                <li property="itemListElement" typeof="ListItem">
                    <a href="../old-index/" class="menu-item " property="item" typeof="WebPage">
                        <span property="name">index</span>
                    </a>
                    <meta property="position" content="1">
                </li>
                
                    
                    


<li property="itemListElement" typeof="ListItem">
    <a href="#" class="menu-item" data-toggle="modal" data-target="#mkdocs_search_modal" property="item" typeof="SearchAction">
        <i aria-hidden="true" class="fa fa-search"></i> <span property="name">Search</span>
    </a>
    <meta property="position" content="2">
</li>
                    
            </ul>
            
        </nav>
    </div>
</div>
        
    <div class="container">
        <div class="terminal-mkdocs-main-grid"><aside id="terminal-mkdocs-side-panel"><nav>
  
    <ul class="terminal-mkdocs-side-nav-items">
        
          



<li class="terminal-mkdocs-side-nav-li">
    
    
    
        
        
            <a class="

    terminal-mkdocs-side-nav-item" href="..">home</a>
        
    
    
    
  </li>
        
          



<li class="terminal-mkdocs-side-nav-li">
    
    
    
        
        
            <a class="

    terminal-mkdocs-side-nav-item" href="../old-index/">index</a>
        
    
    
    
  </li>
        
    </ul>
  
</nav><hr>
<nav>
    <ul>
        <li><a href="#why-learn-vivim">Why Learn Vi/Vim?</a></li>
        <li><a href="#basics">Basics</a></li>
        <li><a href="#editing-modes">Editing Modes</a></li><li><a href="#resources">Resources</a></li>
        <li><a href="#vimtutor">Vimtutor</a></li><li><a href="#other-resources">Other Resources</a></li><li><a href="#acknowledgements">Acknowledgements</a></li>
        
    </ul>
</nav>
</aside>
            <main id="terminal-mkdocs-main-content">
    
    
    
    
    

<section id="mkdocs-terminal-content">
    <p>This article aims to cover the basics of using <strong>Vi</strong> (or <strong>Vim</strong>) to edit text.
Many modern linux distributions contain either Vi or Vim. Often Vim, which
stands for <em>vi improved</em> will be symbolically linked (or aliased) to vi on
Linux systems. Most if not all of what's in this tutorial is interchangeable
between Vi or Vim.</p>
<p>Vi was first written in 1976 by Bill Joy at the University of California at
berkley. vim was written by and is still maintained by Bram Moolenaar.</p>
<h1 id="why-learn-vivim">Why Learn Vi/Vim?<a class="headerlink" href="#why-learn-vivim" title="Permanent link">#</a></h1>
<ul>
<li>Vi is almost always available on Linux systems. If you're ssh'd into a server
    and you don't have the ability (or the authority...) to install additional
    software packages, vi will almost always be available by default.  You may not
    always have access to a graphical CLI editor like nano.</li>
<li>Vi is lightweight and fast. Vi is designed for typing speed and efficiency.
    There's a learning curve, but once over that hurdle you may find yourself
    wondering why all user interfaces where you edit text don't have a <em>vi mode.</em></li>
<li>You want other Linux nerds to respect you and you're irrationally concerned
    with being judged by based on your bash history.</li>
</ul>
<h1 id="basics">Basics<a class="headerlink" href="#basics" title="Permanent link">#</a></h1>
<p>Starting vi (vim):</p>
<pre><code class="language-bash">$ vi
$ # Or ...
$ vim
</code></pre>
<p>You should see something like the following in your terminal:</p>
<pre><code class="language-viml">  1
~
~                                 VIM - Vi IMproved
~
~                                  version 8.2.3182
~                              by Bram Moolenaar et al.
~                         Modified by &lt;bugzilla@redhat.com&gt;
~                    vim is open source and freely distributable
~
~                           Become a registered Vim user!
~                   type  :help register&lt;Enter&gt;   for information
~
~                   type  :q&lt;Enter&gt;               to exit
~                   type  :help&lt;Enter&gt;  or  &lt;F1&gt;  for on-line help
~                   type  :help version8&lt;Enter&gt;   for version info
~
~
~
</code></pre>
<p>To exit vi (vim) type <code>:q</code> then press <strong>Enter</strong>.</p>
<pre><code class="language-viml">:q
</code></pre>
<p>This should return you to the shell prompt. If for some reason this doesn't work
we can <em>force</em> the issue with:
<em>(this can sometimes happen if we've made a change to the file that hasn't been
written yet.)</em></p>
<pre><code class="language-viml">:q!
</code></pre>
<p><strong>Tip:</strong> if you get lost in vi/vim try pressing the <strong>Esc</strong> key twice.</p>
<p>You can create a new file with vi by passing a filename that doesn't exist as
an argument:</p>
<pre><code class="language-bash">$ vi foo.txt
</code></pre>
<p>Or you may open a file that already exists with vi by providing the file as an
argument:</p>
<pre><code class="language-bash">$ vi /path/to/somefile.txt
</code></pre>
<h2 id="editing-modes">Editing Modes<a class="headerlink" href="#editing-modes" title="Permanent link">#</a></h2>
<p>Vi is a modal editor. When vi starts it's in <em>command mode.</em> In this mode
almost everything is a command. Be careful what you type in this mode, you may
end up executing commands you didn't intend.</p>
<h3 id="entering-insert-mode">Entering Insert Mode<a class="headerlink" href="#entering-insert-mode" title="Permanent link">#</a></h3>
<p>After you've opened or created a file that you're trying to edit, in order to
add some text you need to enter <em>insert mode.</em> To do this press the <strong>i</strong> key.
You should see the following at the bottom of the screen:</p>
<pre><code class="language-vim">-- insert --
</code></pre>
<p>Try typing some text:</p>
<pre><code class="language-txt">the quick brown fox jumped over the lazy dog.
</code></pre>
<p>To exit insert mode and return to command mode, press the <strong>Esc</strong> key.</p>
<h3 id="saving-your-work">Saving Your Work<a class="headerlink" href="#saving-your-work" title="Permanent link">#</a></h3>
<p>To save changes to your file enter an <em>ex command</em> while in command mode. You
can do this by typing <strong>:</strong>.  You should see a colon character appear at the
bottom of your terminal.</p>
<pre><code>:
</code></pre>
<p>To write our modified file, type a <strong>w</strong> and then press <strong>Enter.</strong></p>
<pre><code>:w
</code></pre>
<p>The file will be written to disk. You should get a confirmation message at the
bottom of your terminal that looks similar to this:</p>
<pre><code>&quot;foo.txt&quot; [new] 1l, 46c written
</code></pre>
<p><strong>Tip:</strong> the vim documentation confusingly calls command mode <em>normal mode</em> and
that <em>ex</em> commands are called <em>command mode.</em></p>
<h3 id="moving-around-the-buffer">Moving Around the Buffer<a class="headerlink" href="#moving-around-the-buffer" title="Permanent link">#</a></h3>
<p>While in command mode, vi offers a large amount of movement commands.  Many of
these are shared with the <code>less</code> pager. In fact many Linux utilities have some
type of vi mode.  Once you learn these, this skill is farily <em>portable.</em></p>
<p>Cursor movement keys</p>
<table>
<thead>
<tr>
<th><strong>key</strong></th>
<th><strong>Moves The Cursor</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td><code>l</code> or right arrow</td>
<td>Right one character</td>
</tr>
<tr>
<td><code>h</code> or left arrow</td>
<td>Left one character</td>
</tr>
<tr>
<td><code>j</code> or down arrow</td>
<td>Down one line</td>
</tr>
<tr>
<td><code>k</code> or up arrow</td>
<td>Up one line</td>
</tr>
<tr>
<td><code>0</code> (zero)</td>
<td>Beginning of the current line</td>
</tr>
<tr>
<td><code>^</code></td>
<td>First non-whitespace character on the current line</td>
</tr>
<tr>
<td><code>$</code></td>
<td>End of the current line</td>
</tr>
<tr>
<td><code>w</code></td>
<td>Beginning of the next word or punctuation character</td>
</tr>
<tr>
<td><code>W</code></td>
<td>Beginning of the next word, ignoring punctuation characters</td>
</tr>
<tr>
<td><code>b</code></td>
<td>Beginning of the previous word or punctuation character</td>
</tr>
<tr>
<td><code>B</code></td>
<td>Beginning of the previous word, ignoring punctuation characters</td>
</tr>
<tr>
<td><code>Ctrl-f</code> or <code>Page Down</code></td>
<td>Down one page</td>
</tr>
<tr>
<td><code>Ctrl-b</code> or <code>Page Up</code></td>
<td>Up one page</td>
</tr>
<tr>
<td><code>#G</code></td>
<td>To line #.</td>
</tr>
<tr>
<td></td>
<td>For example, <code>12G</code> moves to the 12th line of the file</td>
</tr>
<tr>
<td><code>G</code></td>
<td>To the last line of the file</td>
</tr>
<tr>
<td><code>gg</code></td>
<td>To the first line of the file</td>
</tr>
</tbody>
</table>
<p>When vi was originally written not all video terminals had arrow keys and
commonly the letters <em>h</em>, <em>j</em>, <em>k</em>, and <em>l</em> were used.  Many commands in vi can
be prefixed with a number. We can specify the number of times a command will be
executed. For example, <code>5j</code> will move the cursor down 5 lines.</p>
<h3 id="basic-editing">Basic Editing<a class="headerlink" href="#basic-editing" title="Permanent link">#</a></h3>
<p>In general editing text consists of basic operations like inserting text,
deleting text, moving text around by cutting and pasting, etc. Vi supports all
of this and more. Vi also provides undo if you press <strong>u</strong> while in command mode.
This undo's the last change you made and will come in handy while you practice
some basic text editing in Vi.</p>
<h4 id="appending-and-inserting-text">Appending and Inserting Text<a class="headerlink" href="#appending-and-inserting-text" title="Permanent link">#</a></h4>
<p>To <em>append</em> text after the cursor press <strong>a</strong> and then type the text that you
with to add.</p>
<p>Try moving the cursor to the end of the line in your text file and appending
some text.</p>
<pre><code>The quick brown fox jumped over the lazy dog. It was cool.
</code></pre>
<p>Type <strong>Esc</strong> to get out of insert mode after you've finished inserting your
text.</p>
<p>Instead of moving to the end of the line and typing <strong>a</strong> in order to append
text. You can type <strong>A</strong> and this will automatically put you at the end of the
line and in insert mode. Similarly lowercase <strong>i</strong> allows you to enter insert
mode before the cursor, but capital <strong>I</strong> puts you in insert mode at the
beginning of the line. As you grow more familiar with the variety of Vi commands
at your disposal you'll learn that for most things that you would want to do,
there's often a short-cut available like this.</p>
<h4 id="opening-a-line">Opening a Line<a class="headerlink" href="#opening-a-line" title="Permanent link">#</a></h4>
<p>We can also insert a line above or below the current line and enter insert mode.
To do this type <strong>o</strong> to insert a line below the current one and type <strong>O</strong> to
insert a line above the one your cursor is currently on.</p>
<p>For example:</p>
<pre><code>Line above.
The quick brown fox jumped over the lazy dog. It was cool.
Line below.
</code></pre>
<p>Again to exit insert mode just type <strong>Esc</strong>.</p>
<h4 id="deleting-text">Deleting text<a class="headerlink" href="#deleting-text" title="Permanent link">#</a></h4>
<p>Vi offers a variety of ways to delete text. To delete the character underneath
the cursor type <strong>x</strong>. You may preceed <strong>x</strong> with a number to delete that many
characters. The <strong>d</strong> command is more general purpose. <strong>d</strong> is followed by a
<em>movement command</em> that controls the size of the deletion. To delete the current
line type <strong>dd</strong>. You can preceed <strong>d</strong> with a number like <strong>x</strong>, to execute a
delete command that many times.</p>
<p><strong>Text Deletion Commands</strong></p>
<table>
<thead>
<tr>
<th><strong>Command</strong></th>
<th><strong>Deletes</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td><code>x</code></td>
<td>Current character</td>
</tr>
<tr>
<td><code>#x</code></td>
<td># of characters</td>
</tr>
<tr>
<td><code>dd</code></td>
<td>Current line</td>
</tr>
<tr>
<td><code>#dd</code></td>
<td># of lines</td>
</tr>
<tr>
<td><code>dW</code></td>
<td>From current cursor position to beginning of next word</td>
</tr>
<tr>
<td><code>d$</code></td>
<td>From current cursor position to end of line</td>
</tr>
<tr>
<td><code>d0</code></td>
<td>From current cursor position to beginning of line</td>
</tr>
<tr>
<td><code>d^</code></td>
<td>From current cursor position to first non-whitespace character</td>
</tr>
<tr>
<td><code>dG</code></td>
<td>From current line to end of file</td>
</tr>
<tr>
<td><code>d#G</code></td>
<td>From current line to # line of file</td>
</tr>
</tbody>
</table>
<p>If you make a mistake, you can undo a deletion with the <strong>u</strong> command.</p>
<p><strong>Note:</strong> Real vi supports only a single level of undo. Vim supports multiple
levels of undo.</p>
<h4 id="cutting-copying-and-pasting-text">Cutting, Copying, and Pasting Text<a class="headerlink" href="#cutting-copying-and-pasting-text" title="Permanent link">#</a></h4>
<p>The <strong>d</strong> command not only deletes text but it also "cuts" text. Anytime you use
the <strong>d</strong> command it will save that snippet of text into a paste buffer that can
later be used. To paste text use the <strong>p</strong> command to paste the contents
after the cursor or the <strong>P</strong> command to paste the contents before the cursor.</p>
<p>The <strong>y</strong> command is used to "yank" (copy) text to the paste buffer.</p>
<p><strong>Yanking Commands</strong></p>
<table>
<thead>
<tr>
<th><strong>Command</strong></th>
<th><strong>Copies</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td><code>yy</code></td>
<td>Current line</td>
</tr>
<tr>
<td><code>#yy</code></td>
<td>Copies # of lines</td>
</tr>
<tr>
<td><code>yW</code></td>
<td>From cursor to beginning of next word</td>
</tr>
<tr>
<td><code>y$</code></td>
<td>From cursor to end of line</td>
</tr>
<tr>
<td><code>y0</code></td>
<td>From cursor to beginning of line</td>
</tr>
<tr>
<td><code>y^</code></td>
<td>From cursor to first non-whitespace character</td>
</tr>
<tr>
<td><code>yG</code></td>
<td>From current line to end of file</td>
</tr>
<tr>
<td><code>y#G</code></td>
<td>"yank" current line to line #</td>
</tr>
</tbody>
</table>
<p>Just like with the <strong>d</strong> command anything that you "yank" into the paste buffer
with the <strong>y</strong> command can be pasted back into your file using either <strong>p</strong> or
<strong>P</strong>.</p>
<p>Feel free to practice adding, deleting, yanking and pasting text into your text
file. Remember, you can always undo with <strong>u</strong>.</p>
<h3 id="search-and-replace">Search-and-Replace<a class="headerlink" href="#search-and-replace" title="Permanent link">#</a></h3>
<p>In vi you can search a single line or a whole file. You can also perform text
replacements as in a <em>search-replace</em>, also known as a <em>substitution</em>.</p>
<h4 id="searching-within-a-line">Searching Within a Line<a class="headerlink" href="#searching-within-a-line" title="Permanent link">#</a></h4>
<p>The <strong>f</strong> command searches a line and moves the cursor to the next instance of a
specified character. For example <strong>fa</strong> would move the cursor to the next
occurrence of the character <strong>a</strong>.  After performing a character search the
search may be repeated by typing <strong>;</strong>.</p>
<h4 id="searching-the-entire-file">Searching the Entire File<a class="headerlink" href="#searching-the-entire-file" title="Permanent link">#</a></h4>
<p>To search for a word or phrase the <strong>/</strong> command is used. After typing <strong>/</strong>
type a string to search for and press <strong>Enter</strong>. This will move the cursor to
next occurrence of that string in the file. You can repeat the search forward
through the file by pressing <strong>n</strong>. You can perform the search backwards through
the file by pressing <strong>N</strong>.</p>
<p>Vi's search function allows for the use of Regular Expressions, but that is
outside of the scope of this tutorial. Feel free to type <code>:help</code> in command mode
to refer to vim's help docs.</p>
<h4 id="global-search-and-replace">Global Search-and-Replace<a class="headerlink" href="#global-search-and-replace" title="Permanent link">#</a></h4>
<p>The basic syntax for searching a whole file and replacing every occurrence of a
string is:</p>
<pre><code>:%s/search/replace/g
</code></pre>
<p><strong>If we break this down...</strong></p>
<p><code>:</code> starts an <em>ex</em> command.</p>
<p><code>%</code> specifies the range of lines for the operation, in this case <code>%</code> is a
shortcut that means from the 1st line to the last line in the file (aka the
whole file).</p>
<p><code>s</code> specifies the operation we're performing which in this case is a <em>substitution</em>.</p>
<p><code>/search/replace/</code> specifies the <em>search</em> text and the <em>replacement</em> text. Those
of you who are familiar with <code>sed</code> might notice the similarity between how vi
performs substitutions and how <code>sed</code> does.</p>
<p>The <code>g</code> means "global" which will
replace every occurrence of the search string that's found with the replacement
string.</p>
<p>Vi can also ask for confirmation for every substitution if we add the
<em>confirmation</em> command to our search-replace.</p>
<pre><code>:%s/line/Line/gc
</code></pre>
<p>Before each substitution you will be prompted with:</p>
<pre><code>replace with Line (y/n/a/q/l/^E/^Y)?
</code></pre>
<p><em>yes, no, all, quit, last, Ctrl-e (scroll up), Ctrl-y (scroll down)</em></p>
<h1 id="resources">Resources<a class="headerlink" href="#resources" title="Permanent link">#</a></h1>
<h2 id="vimtutor">Vimtutor<a class="headerlink" href="#vimtutor" title="Permanent link">#</a></h2>
<p>There's actually a tutorial built right into Vim that is highly recommended.
The above introduction is just that, an introduction.  There's quite a bit more
that you can do with vim and which is unfortunately ouside of the scope of this
article.</p>
<p>If you're learning vim, running <code>vimtutor</code> from your terminal or <code>:help tutor</code>
from inside of vim will open the tutorial that's builtin to the editor.
This covers much of what's in the tutorial above as well as quite a bit that
wasn't able to be covered here. There's the added benefit of being able to
practice your vim skills right inside of vim.</p>
<p>One suggestion is to work through the vimtutor once per day for a week or so for
about 20 minutes each time and restarting the tutor each time you complete it.
Practice and repetition is a good way to solidify your skills and commit many of
the keyboard commands and skills to memory. After a week of practice you'll be
well on your way to becoming proficient in Vim.</p>
<h2 id="other-resources">Other Resources<a class="headerlink" href="#other-resources" title="Permanent link">#</a></h2>
<p>As always there's the official help docs which ship with vim if you run <code>:help</code>
from any vim buffer.</p>
<ul>
<li><a href="https://www.vim.org/docs.php">Official docs</a></li>
<li><a href="https://vim.rtorr.com">Cheat sheet</a></li>
</ul>
<h1 id="acknowledgements">Acknowledgements<a class="headerlink" href="#acknowledgements" title="Permanent link">#</a></h1>
<p>This "Introduction to Vi" is largely based on the "Gentle Introduction to Vi"
that's written by William Shotts and that's available online for free download
on his <a href="http://www.linuxcommand.org/tlcl.php/tlcl.php">site</a> as part of his book
on the Linux CLI. This resource is highly recommended to anyone interested in
learning the Linux CLI as well as the chapter on Vi.</p>
</section>

<section id="mkdocs-terminal-after-content">
    
</section>

            </main>
        </div>
        <hr><footer>
    <div class="terminal-mkdocs-footer-grid">
        <div id="terminal-mkdocs-footer-copyright-info">
            
            <p class="text-center text-muted">Copyright © 2025 Alex Kraker</p>
             Site built with <a href="http://www.mkdocs.org">MkDocs</a> and <a href="https://github.com/ntno/mkdocs-terminal">Terminal for MkDocs</a>.
        </div>
    </div>
</footer>
    </div>

    
    <div class="modal" id="mkdocs_search_modal" tabindex="-1" role="alertdialog" aria-modal="true" aria-labelledby="searchModalLabel">
    <div class="modal-dialog modal-lg" role="search">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="searchModalLabel">Search</h5>
                <button type="button" class="close btn btn-default btn-ghost" data-dismiss="modal"><span aria-hidden="true">x</span><span class="sr-only">Close</span></button>
            </div>
            <div class="modal-body">
                <p id="searchInputLabel">Type to start searching</p>
                <form>
                    <div class="form-group">
                        <input type="search" class="form-control" aria-labelledby="searchInputLabel" placeholder="" id="mkdocs-search-query" title="Please enter search terms here">
                    </div>
                </form>
                <div id="mkdocs-search-results" data-no-results-text="No document matches found"></div>
            </div>
            <div class="modal-footer">
            </div>
        </div>
    </div>
</div>
    
    
</body>

</html>