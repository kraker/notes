<!DOCTYPE html>
<html lang="en">
<head>
    
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <meta name="generator" content="mkdocs-1.6.1, mkdocs-terminal-4.7.0">
     
     
    <link rel="icon" type="image/png" sizes="192x192" href="../img/android-chrome-192x192.png" />
<link rel="icon" type="image/png" sizes="512x512" href="../img/android-chrome-512x512.png" />
<link rel="apple-touch-icon" sizes="180x180" href="../img/apple-touch-icon.png" />
<link rel="shortcut icon" type="image/png" sizes="48x48" href="../img/favicon.ico" />
<link rel="icon" type="image/png" sizes="16x16" href="../img/favicon-16x16.png" />
<link rel="icon" type="image/png" sizes="32x32" href="../img/favicon-32x32.png" />


    
 
<title>imapsync - notes</title>


<link href="../css/fontawesome/css/fontawesome.min.css" rel="stylesheet">
<link href="../css/fontawesome/css/solid.min.css" rel="stylesheet">
<link href="../css/normalize.css" rel="stylesheet">
<link href="../css/terminal.css" rel="stylesheet">
<link href="../css/theme.css" rel="stylesheet">
<link href="../css/theme.tile_grid.css" rel="stylesheet">
<link href="../css/theme.footer.css" rel="stylesheet">
<!-- dark color palette -->
<link href="../css/palettes/dark.css" rel="stylesheet">

<!-- page layout -->
<style>
/* initially set page layout to a one column grid */
.terminal-mkdocs-main-grid {
    display: grid;
    grid-column-gap: 1.4em;
    grid-template-columns: auto;
    grid-template-rows: auto;
}

/*  
*   when side navigation is not hidden, use a two column grid.  
*   if the screen is too narrow, fall back to the initial one column grid layout.
*   in this case the main content will be placed under the navigation panel. 
*/
@media only screen and (min-width: 70em) {
    .terminal-mkdocs-main-grid {
        grid-template-columns: 4fr 9fr;
    }
}</style>



     
    
    

    
    <!-- search css support -->
<link href="../css/search/bootstrap-modal.css" rel="stylesheet">
<!-- search scripts -->
<script>
    var base_url = "..",
    shortcuts = "{}";
</script>
<script src="../js/jquery/jquery-1.10.1.min.js" defer></script>
<script src="../js/bootstrap/bootstrap.min.js" defer></script>
<script src="../js/mkdocs/base.js" defer></script>
    
    
    
    
    <script src="../search/main.js"></script>
    

    
</head>

<body class="terminal"><div class="container">
    <div class="terminal-nav">
        <header class="terminal-logo">
            <div id="mkdocs-terminal-site-name" class="logo terminal-prompt"><a href="/" class="no-style">notes</a></div>
        </header>
        
        <nav class="terminal-menu">
            
        </nav>
    </div>
</div>
        
    <div class="container">
        <div class="terminal-mkdocs-main-grid"><aside id="terminal-mkdocs-side-panel"><nav>
  
</nav><hr>
<nav>
    <ul>
        <li><a href="#installation">Installation</a></li>
        <li><a href="#unix-tutorial">Unix Tutorial</a></li>
        <li><a href="#office-365">Office 365</a></li>
        <li><a href="#reset-passwords-from-file">Reset passwords from file</a></li><li><a href="#create-new-email-accounts">Create new email accounts</a></li><li><a href="#imapsync-all-accounts-from-the-users-file">imapsync all accounts from the "users" file</a></li>
    </ul>
</nav>
</aside>
            <main id="terminal-mkdocs-main-content">
    
    
    
    
    

<section id="mkdocs-terminal-content">
    <h1 id="installation">Installation<a class="headerlink" href="#installation" title="Anchor link to this section for reference">#</a></h1>
<p><a href="https://imapsync.lamiral.info/INSTALL.d/INSTALL.Centos.txt">source</a></p>
<p>First install access to the Epel repository via yum:</p>
<pre><code>yum install epel-release
</code></pre>
<p>Then install imapsync and its dependencies:</p>
<pre><code>yum install imapsync
</code></pre>
<p>After installing imapsync, it should be able to work on your system.
A good test that shows also the basic example:</p>
<pre><code>imapsync
</code></pre>
<p>A live test:</p>
<pre><code>imapsync --testslive --tls1 --ssl2
</code></pre>
<p>Unit tests:</p>
<pre><code>imapsync --tests
</code></pre>
<h1 id="unix-tutorial">Unix Tutorial<a class="headerlink" href="#unix-tutorial" title="Anchor link to this section for reference">#</a></h1>
<p>https://imapsync.lamiral.info/doc/TUTORIAL_Unix.html</p>
<h1 id="office-365">Office 365<a class="headerlink" href="#office-365" title="Anchor link to this section for reference">#</a></h1>
<p>https://imapsync.lamiral.info/FAQ.d/FAQ.Office365.txt</p>
<p>Make sure IMAP is enabled. One way to test is using Thunderbird or some other
email client. </p>
<p>It's necessary to explicitly pass the <code>--ssl1</code> flag in order to successfully connect to
Office 365 for whatever reason. </p>
<p>For example:</p>
<pre><code>root@vps72027 [/]# imapsync --host1 outlook.office365.com --ssl1 --port1 993 --user1 ads@oracle20-20.com --password1 'StarzR0ut#' --host2 $(hostname) --ssl2 --port2 993 --user2 test@oracle20-20.com --password2 'StarzR0ut#' --timeout1 30 --justlogin
</code></pre>
<h3 id="reset-passwords-from-file">Reset passwords from file<a class="headerlink" href="#reset-passwords-from-file" title="Anchor link to this section for reference">#</a></h3>
<p>Designed to be able to be copy pasted into a terminal</p>
<pre><code class="language-bash">read -p 'user: ' user
while read email pass; do
  uapi --output=jsonpretty \
  --user=$user \
  Email \
  passwd_pop \
  email=&quot;$email&quot; \
  password=&quot;$pass&quot;; 
done &lt; users.txt
</code></pre>
<p><em>users.txt</em> needs to be a file with space delimited username and password, one per
line.</p>
<h3 id="create-new-email-accounts">Create new email accounts<a class="headerlink" href="#create-new-email-accounts" title="Anchor link to this section for reference">#</a></h3>
<p><em>Similar to above.</em></p>
<pre><code class="language-bash">while read user domain password ; do uapi --user=davein5 Email add_pop email=$user password=$password quota=0 domain=$domain skip_upd ate_db=1 ; done &lt; udp
</code></pre>
<p>Credit: David Bi.</p>
<h3 id="imapsync-all-accounts-from-the-users-file">imapsync all accounts from the "users" file<a class="headerlink" href="#imapsync-all-accounts-from-the-users-file" title="Anchor link to this section for reference">#</a></h3>
<p><em>users.txt</em> needs to be a file with space delimited username and password, one per
line.</p>
<p>Example <em>users.txt</em>:</p>
<pre><code class="language-txt">email1@theirdomain.com password123
email2@theirdomain.com 123password
...
</code></pre>
<p>While loop:</p>
<pre><code class="language-bash">read -p &quot;Source host: &quot; host1;
read -p &quot;Destination host: &quot; host2;
while read user pass; do
imapsync \
--host1 $host1 \
--user1 $user \
--password1 $pass \
--host2 $host2 \
--user2 $user \
--password2 $pass \
--justlogin;
done &lt; users.txt
</code></pre>
<p>Note, this only works if the username and password are the same on both the
source server and destination server.</p>
<h4 id="short-version">Short version<a class="headerlink" href="#short-version" title="Anchor link to this section for reference">#</a></h4>
<pre><code class="language-bash">while read -r user pass; do imapsync --host1 imap.beget.com --user1 $user --password1 $pass --host2 secure.server.com --user2 $user --password2 $pass --justlogin; done &lt; users | grep 'Authentication failed'
</code></pre>
<p>```bash</p>
</section>

<section id="mkdocs-terminal-after-content">
    
</section>

            </main>
        </div>
        <hr><footer>
    <div class="terminal-mkdocs-footer-grid">
        <div id="terminal-mkdocs-footer-copyright-info">
             Site built with <a href="http://www.mkdocs.org">MkDocs</a> and <a href="https://github.com/ntno/mkdocs-terminal">Terminal for MkDocs</a>.
        </div>
    </div>
</footer>
    </div>

    
    <div class="modal" id="mkdocs_search_modal" tabindex="-1" role="alertdialog" aria-modal="true" aria-labelledby="searchModalLabel">
    <div class="modal-dialog modal-lg" role="search">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="searchModalLabel">Search</h5>
                <button type="button" class="close btn btn-default btn-ghost" data-dismiss="modal"><span aria-hidden="true">x</span><span class="sr-only">Close</span></button>
            </div>
            <div class="modal-body">
                <p id="searchInputLabel">Type to start searching</p>
                <form>
                    <div class="form-group">
                        <input type="search" class="form-control" aria-labelledby="searchInputLabel" placeholder="" id="mkdocs-search-query" title="Please enter search terms here">
                    </div>
                </form>
                <div id="mkdocs-search-results" data-no-results-text="No document matches found"></div>
            </div>
            <div class="modal-footer">
            </div>
        </div>
    </div>
</div>
    
    
</body>

</html>